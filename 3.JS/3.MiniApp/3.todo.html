<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        #todo-list li{
            cursor: pointer;
        }

        #todo-list li.done{
            text-decoration: line-through; /* 취소선 */            
            
        }
    </style>
</head>

<body>
    <h1>투두(Todo) 리스트</h1>
    <input type="text" placeholder="할 일 추가" id="new-todo">
    <button id="add-todo">Add</button>
    <hr>
    <ul id="todo-list">
    </ul>

    <script>
        const inputBox = document.getElementById("new-todo");
        const todoList = document.getElementById("todo-list");

        document.getElementById("add-todo").addEventListener('click', function () {
            if (inputBox.value.trim() === '') return;

            const new_li = document.createElement("li");
            new_li.innerHTML = `${inputBox.value} <button class="delete"> 삭제 </button>`;
            
            inputBox.value = "";
            //미션2. 완료 기능 구현
            //미션2-1. 각 요소마다 클릭 가능한 이벤트 추가
            //미션2-2. 그요소를 클릭했을때 디자인 속성 추가(done)
            //미션2-3. 삭제기능 추가
            todoList.appendChild(new_li);

            new_li.addEventListener('click', function () {
                new_li.classList.toggle('done');                
                // todoList.removeChild(new_li);
            })

            const deleteButton = new_li.querySelector(".delete");

            deleteButton.addEventListener('click', function(){
                todoList.removeChild(new_li);
                //new_li.remove();
            })
        })

        document.getElementById("new-todo").addEventListener('keydown', function (event) {
            if (event.key == "Enter") {
                document.getElementById("add-todo").click();
            }
        })

    </script>
</body>

</html>